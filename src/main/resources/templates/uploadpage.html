<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>设计文件</title>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <script src="/lib/jquery-3.3.1.min.js" type="text/javascript"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/lib/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.css">
    <link href="https://cdn.jsdelivr.net/npm/busy-load/dist/app.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/busy-load/dist/app.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/stylesheets/theme.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/premium.css">
    <script src="/lib/WdatePicker.js" type="text/javascript"></script>


</head>
<body class=" theme-blue">
<script type="text/javascript">
    var filePathName = "";
    $(function () {
        var test = document.getElementById('filefolder');
        test.addEventListener('change', function() {
            var filePathName = ""
            var t_files = this.files;
            for (var i = 0, len = t_files.length; i < len; i++) {
               filePathName += t_files[i].webkitRelativePath+",";
            };
            $("#filePathName").val(filePathName);
        }, false);

        var test1 = document.getElementById('file');
        test1.addEventListener('change', function() {
            var filePathName1 = ""
            var t_files1 = this.files;
            for (var i = 0, len = t_files1.length; i < len; i++) {
                filePathName1 += t_files1[i].name+",";
            };
            $("#filePathName").val(filePathName1);
        }, false);

        $("#uploadprogress").hide();
        var flag = $("#uploadflag").val();//-1 文件上传失败，1文件上传成功  0 文件为空
        var isMessage = $("#existFileMessage").val();
        var isExistNum = $("#isExistNum").val();
        if (flag == "1") {
            alert("上传成功!")
        }
        if (flag == "-222") {
            alert("您上传的文件里有重复的名字或上传的文件名已存过一次!");
        } else if (flag == "-369") {
            alert("您上传的文件夹超过200个，系统不受理!")
        } else if (flag == "-789") {
            alert("您上传的单个文件 的路径发生重名!")
        } else if (flag == "-9999") {
            alert("您上传的文件夹内文件有重复!")
        } else if (flag == "-123") {
            alert("您上传的文件夹名发生重命名!")
        } else if (flag == "-666") {
            alert("您上传的文件内文件名与数据库相应订单的文件名重复!")
        } else if (flag == "-777") {
            alert("您上传的文件夹内文件文名有重复的文件夹名!")
        } else if (flag == "-888") {
            alert("您上传的文件夹名和数据库的文件夹名发生重复!");
        } else if (flag == "0") {
            alert("上传文件为空文件，请重新选择上传！");
        } else if (flag == "-1") {
            alert("文件上传失败！");
        } else if (flag == "-2") {
            alert("上传失败，总文件大小超过1024M！");
        } else if (flag == "-33") {
            alert("您上传的文件夹第一层设计师编号不符合要求！")
        } else if (flag == "-66") {
            alert("您上传的文件夹第二层年份日期不符合要求！")
        } else if (flag == "-99") {
            alert("您上传的文件夹第三层业务员名字不符合要求!")
        } else if (flag == "-100") {
            alert("您上传的文件夹第四层订单编号不符合要求!")
        } else if (flag == "-101") {
            alert("您上传的文件夹里文件没有扩展名，不符合要求！")
        } else if (flag == "-987") {
            alert("您上传的文件夹命名不能出现订单编号，业务员，设计师，和日期    ")
        } else if (flag == "-333") {
            alert("您上传的文件夹不是标准的四层结构，不符合要求！")
        } else if (flag == "-3") {
            if (isMessage != "") {
                alert("您本次上传的文件无法受理,因为上传的文件里在服务器里存过一次,请重新选择.提示信息为," +
                    "您总共有" + isExistNum + "个文件已经存在过,分别为" + isMessage);
            } else {
                alert("您本次上传的文件无法受理,因为根据提供的订单信息全部为已存在过的文件.");
            }

        } else if (flag == "-258") {
            alert("您没有上传权限!");
        } else if (flag == "-162") {
            alert("您的文件夹名有问题,不能以设计师名,订单编号,业务员,日期作为命名!")
        } else if (flag == "-357") {
            alert("您输入的订单系统中已存在，请另换一个订单号!或检查您填写的订单信息!")
        }else if(flag == -9) {
            alert("文件夹名或者文件名不能有,号!")
        }
        $("#salorid").val("");
        $("#orderno").val("");
        $("#projectno").val("");
        $('#file').val("");
        $('#filedescribtion').val("");
        $('#remark').val("");
        $("#uploaddatetime").val(today());


        var match = document.cookie.match(new RegExp('color=([^;]+)'));
        if (match) var color = match[1];
        if (color) {
            $('body').removeClass(function (index, css) {
                return (css.match(/\btheme-\S+/g) || []).join(' ')
            })
            $('body').addClass('theme-' + color);
        }


    });


</script>
<style type="text/css">

    #listdiv {
        border: 1px solid #9AC0CD;
        width: 1160px;
        height: 250;
        Margin: 2px;
        padding: 3px;
    }

    #folderdiv {
        border: 1px solid #9AC0CD;
        width: 1148px;
        height: 320px;
        Margin: 2px;
        padding: 3px;
    }

    #innerfolderdiv {
        border: 1px solid #9AC0CD;
        width: 1120px;
        height: 250px;
        Margin: 10px;
        padding: 3px;
    }

    #buttondiv {
        width: 1148px;
        Margin: 2px;
        padding: 3px;
    }

    #innerbuttondiv {
        width: 1120px;
        Margin: 10px;
        padding: 3px;
    }


    table.grid {
        font-family: verdana, arial, sans-serif;
        font-size: 13px;
        border-width: 1px;
        border-collapse: collapse;
    }

    table.grid th {
        border-width: 1px;
        padding: 8px;
        border-style: solid;
    }

    table.grid td {
        border-width: 1px;
        padding: 1px;
        border-style: solid;
    }

    #colrcss td {
        border-width: 1px;
        padding: 1px;
        border-style: solid;
        text-align: center;
    }

    #bodycss tr td {
        border-width: 1px;
        padding: 8px;
        border-style: solid;
        text-align: center;
    }

    .trrcss tr td {
        border-width: 1px;
        padding: 8px;
        border-style: solid;
        text-align: center;
    }


    #showurldiv {
        margin-left: 1px;
        margin-right: 1px;
        top: 0;
        bottom: 0;
        width: 1165px;
        height: 250px;
        right: 0;

    }

    #showtabledivhead {
        margin-top: 1px;
        margin-left: 1px;
        margin-right: 1px;
        top: 0;
        bottom: 0;
        width: 1148px;
        height: 320;
        right: 0;
    }

    #selecradio {
        padding: 8px;
    }

    progress {
        width: 168px;
        height: 5px;
        color: #f00;
        background: #EFEFF4; /* 表示总长度背景色 */
    }

    /* 表示已完成进度背景色 */
    progress::-moz-progress-bar {
        background-color: #f00;
    }


    .navbar-default .navbar-brand, .navbar-default .navbar-brand:hover {
        color: #fff;
    }

    #urltbody {
        display: block;
        height: 195px;
        overflow-y: scroll;
    }

    #urltbody tr {
        display: table;
        width: 100%;
        table-layout: fixed;
    }

    #urltbody tr td {
        text-align: center;
    }

    #urlthead tr td {
        text-align: center;
    }

    #urlthead tr {
        display: table;
        width: 100%;
        table-layout: fixed;
    }

    #urlthead {
        width: calc(100% - 1em)
    }


    #coverbehidepage {
        display: none;
        position: absolute;
        top: 0%;
        left: 0%;
        width: 100%;
        height: 100%;
        background-color: black;
        z-index: 1006;
        -moz-opacity: 0.3;
        opacity: .30;
        filter: alpha(opacity=30);

    }
</style>

<script type="text/javascript">
    $(function () {
        var uls = $('.sidebar-nav > ul > *').clone();
        uls.addClass('visible-xs');
        $('#main-menu').append(uls.clone());
    });

    var topfolder;

    function backFolder() {
        var foldername = $("#foldername").val();
        var reg = new RegExp(/^[A-Z]{5}[0-9]{8}[A-Z]{2}[0-9]{2}$/g);
        var salor = $("#salorid").val();
        var engineer = $("#selectuser").val();
        var orderNo = $("#orderno").val().trim();
        var fileInput = $('#file').val();
        var folderhtml = "";
        var fileshtml = "";
        var cominone2 = 0;
        if (salor == "") {
            alert("请选择业务人员!");
            return false;
        }
        if (engineer == "") {
            alert("请选择设计师!");
            return false;
        }
        if (orderNo == "") {
            alert("请填写订单编号!");
            return false;
        }
        // alert(topfolder)
        // alert(foldername)
        // if(topfolder==foldername) {
        //     alert("comein")
        //     $("#backfolder").attr("disabled","disabled");
        // }
        $("#some-element").busyLoad("show");//遮罩层开启
        var jsonarray = {
            "salor": salor, //业务员
            "engineer": engineer, //设计师
            "orderNo": orderNo, //订单编号
            "folderName": foldername//当前文件夹名
        };
        var data = JSON.stringify(jsonarray);
        $.ajax({
            data: data,
            type: "POST",
            contentType: "application/json",//上传内容格式为json结构
            url: "/fileupdown/findBackFoldersByQueryParam",
            success: function (msg) {
                var data = eval(msg); //data为URLS
                $.each(data, function (num) {
                    if (data[num].indexOf(".") <= 0) {//代表为文件夹
                        $("#foldername").val(data[num]);
                        if (reg.test(data[num])) {
                            $("#backfolder").attr("disabled", "disabled");
                        }
                        if (fileInput != "") {
                            if (cominone2 == 0) {
                                folderhtml += "<li><input type='radio' name='filesaveselect' checked value='" + data[num] + "'><img src=\"/images/icon/Folder.png\" " +
                                    " align=\"middle\" border=\"0\" ondblclick=\"shownextfolderorfiles('" + data[num] + "')\"\n" +
                                    " style=\"width: 30px; height: 30px; vertical-align: middle\"/>" + data[num] + "</li>";
                                cominone2 = 1;
                            } else {
                                folderhtml += "<li><input type='radio' name='filesaveselect'  value='" + data[num] + "'><img src=\"/images/icon/Folder.png\" " +
                                    " align=\"middle\" border=\"0\" ondblclick=\"shownextfolderorfiles('" + data[num] + "')\"\n" +
                                    " style=\"width: 30px; height: 30px; vertical-align: middle\"/>" + data[num] + "</li>";
                            }
                        } else {
                            folderhtml += "<li><img src=\"/images/icon/Folder.png\" " +
                                " align=\"middle\" border=\"0\" ondblclick=\"shownextfolderorfiles('" + data[num] + "')\"\n" +
                                " style=\"width: 30px; height: 30px; vertical-align: middle\"/>" + data[num] + "</li>";

                        }
                    } else {//代表为文件
                        fileshtml += "<li>" + data[num] + "</li>";
                        if (cominone2 == 0) {//代表没有文件夹
                            $("#foldername").val(data[num]);
                        }
                    }
                });
                if (folderhtml == "" && fileshtml == "") {
                    folderhtml += "<li><input type='radio' checked   name='filesaveselect' value='" + orderNo + "'><img src=\"/images/icon/Folder.png\" " +
                        " align=\"middle\" border=\"0\" style=\"width: 30px; height: 30px; vertical-align: middle\"/>" + orderNo + "</li>";
                }
                $("#innerfolderdiv").html(folderhtml + fileshtml)
            },
            error: function (msg) {
                $("#some-element").busyLoad("hide");
                alert("查询失败");
            }
        });

        $("#some-element").busyLoad("hide");//遮罩层开启
    }

    function shownextfolderorfiles(foldername) {
        $("#backfolder").removeAttr("disabled");
        var salor = $("#salorid").val();
        var engineer = $("#selectuser").val();
        var orderNo = $("#orderno").val().trim();
        var fileInput = $('#file').val();
        var filefolder = $('#filefolder').val();
        var folderhtml = "";
        var fileshtml = "";
        var cominone = 0;
        if (salor == "") {
            alert("请选择业务人员!");
            return false;
        }
        if (engineer == "") {
            alert("请选择设计师!");
            return false;
        }
        if (orderNo == "") {
            alert("请填写订单编号!");
            return false;
        }
        $("#some-element").busyLoad("show");//遮罩层开启
        var jsonarray = {
            "salor": salor, //业务员
            "engineer": engineer, //设计师
            "orderNo": orderNo, //订单编号
            "folderName": foldername//当前文件夹名
        };
        var data = JSON.stringify(jsonarray);
        $.ajax({
            data: data,
            type: "POST",
            contentType: "application/json",//上传内容格式为json结构
            url: "/fileupdown/findNextFoldersByQueryParam",
            success: function (msg) {
                var data = eval(msg); //data为URLS
                $.each(data, function (num) {
                    if (data[num].indexOf(".") <= 0) {//代表为文件夹
                        $("#foldername").val(data[num]);
                        if (fileInput != "") {
                            if (cominone == 0) {
                                folderhtml += "<li><input type='radio' checked name='filesaveselect' value='" + data[num] + "'><img src=\"/images/icon/Folder.png\" " +
                                    " align=\"middle\" border=\"0\" ondblclick=\"shownextfolderorfiles('" + data[num] + "')\"\n" +
                                    " style=\"width: 30px; height: 30px; vertical-align: middle\"/>" + data[num] + "</li>";
                                cominone = 1;
                            } else {
                                folderhtml += "<li><input type='radio'  name='filesaveselect' value='" + data[num] + "'><img src=\"/images/icon/Folder.png\" " +
                                    " align=\"middle\" border=\"0\" ondblclick=\"shownextfolderorfiles('" + data[num] + "')\"\n" +
                                    " style=\"width: 30px; height: 30px; vertical-align: middle\"/>" + data[num] + "</li>";
                            }
                        } else {
                            folderhtml += "<li><img src=\"/images/icon/Folder.png\" " +
                                " align=\"middle\" border=\"0\" ondblclick=\"shownextfolderorfiles('" + data[num] + "')\"\n" +
                                " style=\"width: 30px; height: 30px; vertical-align: middle\"/>" + data[num] + "</li>";
                        }
                    } else {//代表为文件
                        fileshtml += "<li>" + data[num] + "</li>";
                        if (cominone == 0) {
                            $("#foldername").val(data[num]);
                        }
                    }
                });
                if (folderhtml == "" && fileshtml == "") {
                    folderhtml += "<li><input type='radio' checked  name='filesaveselect' value='" + orderNo + "'><img src=\"/images/icon/Folder.png\" " +
                        " align=\"middle\" border=\"0\" style=\"width: 30px; height: 30px; vertical-align: middle\"/>" + orderNo + "</li>";
                }
                $("#innerfolderdiv").html(folderhtml + fileshtml)
            },
            error: function (msg) {
                $("#some-element").busyLoad("hide");
                alert("查询失败");
            }
        });

        $("#some-element").busyLoad("hide");//遮罩层开启

    }


    function Trim(str) {
        return str.replace(/(^\s*)|(\s*$)/g, "");
    }

    function showlistdiv() {

        $("#listdiv").attr("style", "display:block;")
        $("#folderdiv").attr("style", "display:none;")

    }

    function showfolderdiv() {
        $("#listdiv").attr("style", "display:none;")
        $("#folderdiv").attr("style", "display:block;")
        var salor = $("#salorid").val();
        var engineer = $("#selectuser").val();
        var orderNo = $("#orderno").val().trim();
        var fileInput = $('#file').val();
        var filefolder = $('#filefolder').val();
        //做好文件夹切割容器 文件夹层数不能超过9层
        var folderhtml = "";
        var fileshtml = "";

        if (salor == "") {
            alert("请选择业务人员!");
            return false;
        }
        if (engineer == "") {
            alert("请选择设计师!");
            return false;
        }
        if (orderNo == "") {
            alert("请填写订单编号!");
            return false;
        }
        $("#some-element").busyLoad("show");//遮罩层开启
        var jsonarray = {
            "salor": salor, //业务员
            "engineer": engineer, //设计师
            "orderNo": orderNo //订单编号
        };
        var data = JSON.stringify(jsonarray);
        $.ajax({
            data: data,
            type: "POST",
            contentType: "application/json",//上传内容格式为json结构
            url: "/fileupdown/findFoldersByQueryParam",
            success: function (msg) {
                var data = eval(msg); //data为URLS
                $.each(data, function (num) {
                    if (data[num].indexOf(".") <= 0) {//代表为文件夹
                        topfolder = data[num];
                        $("#foldername").val(data[num]);
                        if (fileInput != "") {
                            folderhtml += "<li><input type='radio' checked name='filesaveselect' value='" + data[num] + "'><img src=\"/images/icon/Folder.png\" " +
                                " align=\"middle\" border=\"0\" ondblclick=\"shownextfolderorfiles('" + data[num] + "')\"\n" +
                                " style=\"width: 30px; height: 30px; vertical-align: middle\"/>" + data[num] + "</li>";
                        } else {
                            folderhtml += "<li><img src=\"/images/icon/Folder.png\" " +
                                " align=\"middle\" border=\"0\" ondblclick=\"shownextfolderorfiles('" + data[num] + "')\"\n" +
                                " style=\"width: 30px; height: 30px; vertical-align: middle\"/>" + data[num] + "</li>";
                        }
                    } else {//代表为文件
                        fileshtml += "<li>" + data[num] + "</li>";

                    }
                });
                if (folderhtml == "" && fileshtml == "") {
                    folderhtml += "<li><input type='radio' checked   name='filesaveselect' value='" + orderNo + "'><img src=\"/images/icon/Folder.png\" " +
                        " align=\"middle\" border=\"0\" style=\"width: 30px; height: 30px; vertical-align: middle\"/>" + orderNo + "</li>";

                }
                $("#innerfolderdiv").html(folderhtml + fileshtml)
            },
            error: function (msg) {
                $("#some-element").busyLoad("hide");
                alert("查询失败");
            }
        });

        $("#some-element").busyLoad("hide");//遮罩层开启
    }

    function checkOrderNo(str) {
        var newstr = str.value;
        if (Trim(newstr) != "") {
            //var reg = new RegExp(/^[0-9a-zA-Z]*$/g);
            var reg = new RegExp(/^[A-Z]{5}[0-9]{8}[A-Z]{2}[0-9]{2}$/g);
            if (!reg.test(str.value)) {
                alert("订单编号不符合规定格式，示范如：COSUN20190112WW01");
                $("#orderno").val("");
                return false;
            }
            // var jsonarray = {
            //     "orderNo": newstr
            // };
            // var data = JSON.stringify(jsonarray);
            // $.ajax({
            //     data: data,
            //     type: "POST",
            //     contentType: "application/json",//上传内容格式为json结构
            //     url: "/fileupdown/isSingleNORepeatOrderNo",
            //     success: function (msg) {
            //         var dat = eval(msg);
            //         if(dat[0].flag=="-159"){
            //             alert("您输入的订单系统中已存在,请起个新订单编号");
            //             $("#orderno").val("");
            //             return false;
            //         }
            //         $("#some-element").busyLoad("hide");
            //     }, error: function (msg) {
            //         $("#some-element").busyLoad("hide");
            //         alert("查询失败");
            //     }
            // });
        }
        showFileUrl();
    }

    // function checkOrderNo(str) {
    //     var newstr = str.value;
    //     if (Trim(newstr) != "") {
    //         //var reg = new RegExp(/^[0-9a-zA-Z]*$/g);
    //         var reg = new RegExp(/^[A-Z]{5}[0-9]{8}[A-Z]{2}[0-9]{2}$/g);
    //         if (!reg.test(str.value)) {
    //             alert("订单编号不符合规定格式，示范如：COSUN20190112WW01");
    //             $("#orderno").val("");
    //             return false;
    //         }
    //         $("#some-element").busyLoad("show");
    //         var jsonarray = {
    //             "orderNo": newstr //订单编号
    //         };
    //         var data = JSON.stringify(jsonarray);
    //         $.ajax({
    //             data: data,
    //             type: "POST",
    //             contentType: "application/json",//上传内容格式为json结构
    //             url: "/fileupdown/isSingleNORepeatOrderNo",
    //             success:function (msg) {
    //                 var data = eval(msg);
    //                 alert(data);
    //                 $("#some-element").busyLoad("hide");
    //             },
    //             error:function (msg) {
    //                 $("#some-element").busyLoad("hide");
    //                 alert("查询失败");
    //             }
    //         });
    //     }
    //     showFileUrl();
    // }


    function today() {
        var today = new Date();
        var h = today.getFullYear();
        var m = today.getMonth() + 1;
        var d = today.getDate();
        var hh = today.getHours();
        var mm = today.getMinutes();
        var ss = today.getSeconds();
        m = m < 10 ? "0" + m : m;
        d = d < 10 ? "0" + d : d;
        hh = hh < 10 ? "0" + hh : hh;
        mm = mm < 10 ? "0" + mm : mm;
        ss = ss < 10 ? "0" + ss : ss;
        return h + "-" + m + "-" + d + " " + hh + ":" + mm + ":" + ss;
    }

    function showFileUrl() {
        $("#salorvalue").val($("#salorid").val());
        var salorid = $("#salorid").val();
        var orderno = $("#orderno").val().trim();
        if (salorid == "" || salorid == null) {
            return false;
        }
        if (orderno == "" || orderno == null) {
            return false;
        }
        $("#foldershow").removeAttr("checked");
        $("#listshow").prop("checked", 'checked');
        $("#listdiv").attr("style", "display:block;")
        $("#folderdiv").attr("style", "display:none;")
        showfileurldivbysaloridorderno(salorid, orderno);

    }


    function showfileurldivbysaloridorderno(salorid, orderno) {
        $("#some-element").busyLoad("show");//遮罩层开启
        var urltbody = $("#urltbody");
        urltbody.html("");
        var jsonarray = {
            "salor": salorid, //业务员
            "orderNo": orderno //订单编号
        }
        var data = JSON.stringify(jsonarray);
        $.ajax({
            data: data,
            type: "POST",
            contentType: "application/json",//上传内容格式为json结构
            url: "/fileupdown/showfileurldiv",
            success: function (msg) {
                var data = eval(msg);//将msg化为数;
                var td = "";
                var tr = "";
                if (data != null && data != "") {
                    $.each(data, function (num) {
                        tr = $("<tr></tr>");
                        tr.append("<td width='30'>" + (num + 1) + "</td>");
                        tr.append("<td width='50'>" + isNull(data[num].userName) + "</td>");
                        tr.append("<td width='150'>" + isNull(data[num].orderNo) + "</td>");
                        tr.append("<td width='50'>" + isNull(data[num].salor) + "</td>");
                        tr.append("<td width='200'>" + isNull(data[num].fileName) + "</td>");
                        tr.append("<td width='153'>" + isNull(data[num].lastUpdateTime) + "</td>");
                        tr.append("<td width='50'>" + isNull(data[num].singleFileUpdateNum) + "</td>");
                        tr.append(td);
                        tr.appendTo(urltbody);
                    });
                } else {
                    tr = $("<tr></tr>");
                    tr.append("<td colspan='7'>查询为空</td>");
                    tr.append(td);
                    tr.appendTo(urltbody);
                }

            },
            error: function (msg) {
                // 隐藏loading
                $("#some-element").busyLoad("hide");
                alert("失败");
            }

        });
        $("#some-element").busyLoad("hide");//遮罩层开启
    }

    function isNull(arg1) {
        if (arg1 == "null" || arg1 == null) {
            return "";
        }
        return arg1;
    }

    var fileDownloadCheckTimer;

    function showAjax() {
        // $.ajax({
        //     data: "",
        //     type: "POST",
        //     contentType: "application/json",//上传内容格式为json结构
        //     url: "/fileupdown/getSessionValue",
        //     success: function (msg) {
        //         $("#uploadprogress").show();
        //         var data = eval(msg);
        //         var fileNo = data.id;
        //         var RecordCount = data.recordCount;
        //         var fileName = data.fileName;
        //         var uploadOverByte = data.uploadOverByte;
        //         var totalFilesByte = data.totalFilesByte;
        //         $("#uploadOverByte").html(uploadOverByte);
        //         $("#totalFilesByte").html(totalFilesByte);
        //         $("#fileno").html(fileNo);
        //         $("#filenameuploading").html(fileName);
        //         $("#totaluploadnum").html(RecordCount);
        //     },
        //     error: function (msg) {
        //         alert("显示进度信息失败!");
        //     }
        // });

        var fileno = getCookie('fileno');
        var filenameuploading = getCookie('filenameuploading');
        var totaluploadnum = getCookie('totaluploadnum');
        var totalFilesByte = getCookie('totalFilesByte');
        var uploadOverByte = getCookie('uploadOverByte');
        alert(fileno)
        alert(filenameuploading)
        alert(totaluploadnum)
        alert(totalFilesByte)
        alert(uploadOverByte)


    }

    // 定义一个函数，用来读取特定的cookie值。
    function getCookie(cookie_name) {
        var allcookies = document.cookie;
        //索引长度，开始索引的位置
        var cookie_pos = allcookies.indexOf(cookie_name);

        // 如果找到了索引，就代表cookie存在,否则不存在
        if (cookie_pos != -1) {
            // 把cookie_pos放在值的开始，只要给值加1即可
            //计算取cookie值得开始索引，加的1为“=”
            cookie_pos = cookie_pos + cookie_name.length + 1;
            //计算取cookie值得结束索引
            var cookie_end = allcookies.indexOf(";", cookie_pos);

            if (cookie_end == -1) {
                cookie_end = allcookies.length;

            }
            //得到想要的cookie的值
            var value = unescape(allcookies.substring(cookie_pos, cookie_end));
        }
        return value;
    }

    function finishInterval() {
        window.clearInterval(fileDownloadCheckTimer);
    }

    function showSessionMessage() {
        fileDownloadCheckTimer = window.setInterval("showAjax()", 2000);
    }

    function submitalldata() {
        var filefolder = $('#filefolder').val();
        var salorid = $("#salorid").val();
        var orderno = $("#orderno").val().trim();
        var projecto = $("#projectno").val().trim();
        var fileInput = $('#file').val();
        var reg = new RegExp(/^[A-Z]{5}[0-9]{8}[A-Z]{2}[0-9]{2}$/g);
        var filesaveselect = $('input[name="filesaveselect"]:checked').val();
        if (typeof (filesaveselect) == "undefined") {
            if (fileInput != "") {
                alert("您没有指定文件夹,系统将默认存放在以订单为名和目录下!");
            }
        } else {
            $("#folderselect").val(filesaveselect);
            if (reg.test(filesaveselect)) {
                $("#folderselect").val("");
            }
        }

        if (salorid == "" || salorid == null) {
            alert("请选择业务人员！");
            return false;
        }
        if (orderno == "") {
            alert("请填写业务订单号！");
            return false;
        }
        if (projecto == "") {
            alert("请填写项目名称！");
            return false;
        }

        if (fileInput == "" && filefolder == "") {
            alert("请选择上传文件！")
            return false;
        }
        if (fileInput != "" && filefolder != "") {
            alert("不能同时选两种文件上传!")
            $('#file').val("");
            $("#filefolder").val("")
            return false;
        }

        $("#folderselect").val(filesaveselect);
        //showSessionMessage();//定时器开启
        //document.getElementById("form1").submit();
        $("#some-element").busyLoad("show");//遮罩层开启
        var formData = new FormData();
        formData.append('filePathName',$("#filePathName").val() );
        formData.append('orderNo',$("#orderno").val() );
        formData.append('salor',$("#salorid").val() );
        var url = "";
        if (fileInput != "") {
            url = "/fileupdown/checkmessage";
        } else if (filefolder != "") {
            url = "/fileupdown/checkmessagefolder";
        }

        $.ajax({
            data: formData,
            type: "POST",
            url: url,
            async: true,
            cache: false,
            contentType: false,
            processData: false,
            success: function (msg) {
                $("#some-element").busyLoad("hide");//遮罩层开启
                var flag = msg;
                if (flag == "-222") {
                    alert("您上传的文件里有重复的名字或上传的文件名已存过一次!");
                    return false;
                } else if (flag == "-369") {
                    alert("您上传的文件夹超过200个，系统不受理!")
                    return false;
                } else if (flag == "-789") {
                    alert("您上传的单个文件 的路径发生重名!")
                    return false;
                } else if (flag == "-9999") {
                    alert("您上传的文件夹内文件有重复!")
                    return false;
                } else if (flag == "-123") {
                    alert("您上传的文件夹名发生重命名!")
                    return false;
                } else if (flag == "-666") {
                    alert("您上传的文件内文件名与数据库相应订单的文件名重复!")
                    return false;
                } else if (flag == "-777") {
                    alert("您上传的文件夹内文件文名有重复的文件夹名!")
                    return false;
                } else if (flag == "-888") {
                    alert("您上传的文件夹名和数据库的文件夹名发生重复!");
                    return false;
                } else if (flag == "0") {
                    alert("上传文件为空文件，请重新选择上传！");
                    return false;
                } else if (flag == "-1") {
                    alert("文件上传失败！");
                    return false;
                } else if (flag == "-2") {
                    alert("上传失败，总文件大小超过1024M！");
                    return false;
                } else if (flag == "-33") {
                    alert("您上传的文件夹第一层设计师编号不符合要求！")
                    return false;
                } else if (flag == "-66") {
                    alert("您上传的文件夹第二层年份日期不符合要求！")
                    return false;
                } else if (flag == "-99") {
                    alert("您上传的文件夹第三层业务员名字不符合要求!")
                    return false;
                } else if (flag == "-100") {
                    alert("您上传的文件夹第四层订单编号不符合要求!")
                    return false;
                } else if (flag == "-101") {
                    alert("您上传的文件夹里文件没有扩展名，不符合要求！")
                    return false;
                } else if (flag == "-987") {
                    alert("您上传的文件夹命名不能出现订单编号，业务员，设计师，和日期    ")
                    return false;
                } else if (flag == "-333") {
                    alert("您上传的文件夹不是标准的四层结构，不符合要求！")
                    return false;
                } else if (flag == "-3") {
                    if (isMessage != "") {
                        alert("您本次上传的文件无法受理,因为上传的文件里在服务器里存过一次,请重新选择.提示信息为," +
                            "您总共有" + isExistNum + "个文件已经存在过,分别为" + isMessage);
                        return false;
                    } else {
                        alert("您本次上传的文件无法受理,因为根据提供的订单信息全部为已存在过的文件.");
                        return false;
                    }

                } else if (flag == "-258") {
                    alert("您没有上传权限!");
                    return false;
                } else if (flag == "-162") {
                    alert("您的文件夹名有问题,不能以设计师名,订单编号,业务员,日期作为命名!")
                    return false;
                } else if (flag == "-357") {
                    alert("您输入的订单系统中已存在，请另换一个订单号!或检查您填写的订单信息!")
                    return false;
                }else if(flag == -9) {
                    alert("文件夹名或者文件名不能有,号!")
                }
                if (flag == 520) {
                    $("#some-element").busyLoad("show");//遮罩层开启
                    document.getElementById("form1").submit();
                    var pro = null;
                    pro = setInterval(function () {
                        if (fileInput != "") {
                            $.get("/fileupdown/upload", "", function (data) {
                                if (data.substring(0, data.lastIndexOf('%')) >= '96') {
                                    clearInterval(pro);
                                    $("#proInfo").text("上传进度：99%");
                                    //更新进度条
                                    $("#progressBar").width("99%");
                                } else {//正在上传
                                    //更新进度信息
                                    $("#proInfo").text("上传进度：" + data);
                                    //更新进度条
                                    $("#progressBar").width(data);
                                }
                            });
                        } else {
                            $.get("/fileupdown/uploadfolder", "", function (data) {
                                if (data.substring(0, data.lastIndexOf('%')) >= '96') {
                                    clearInterval(pro);
                                    $("#proInfo").text("上传进度：99%");
                                    //更新进度条
                                    $("#progressBar").width("99%");
                                } else {//正在上传
                                    //更新进度信息
                                    $("#proInfo").text("上传进度：" + data);
                                    //更新进度条
                                    $("#progressBar").width(data);
                                }
                            });
                        }
                    }, 200);
                }


            },
            error: function (msg) {
                $("#some-element").busyLoad("hide");
                alert("查询失败");
            }
        });

    }


    function removeallbutonetr() {
        // $("#uploadtable tr").eq(1).nextAll().remove();
        $("#innerfolderdiv").html("");
        $("#urltbody ").html("<tr><td colspan='7'>暂无数据</td></tr>")
        $("#foldershow").removeAttr("checked");
        $("#listshow").prop("checked", 'checked');
        $("#listdiv").attr("style", "display:block;")
        $("#folderdiv").attr("style", "display:none;")
        $("#salorid").val("");
        $("#orderno").val("");
        $("#projectno").val("");
        $('#file').val("");
        $('#filefolder').val("");
        $('#filedescribtion').val("");
        $('#remark').val("");
        // $('#filename').val("");
        $("#uploaddatetime").val(today());

    }

    function changeformactionfolder() {
        var newUrl = "/fileupdown/uploadfolder";    //设置新提交地址
        $("#foldershow").removeAttr("checked");
        $("#listshow").prop("checked", 'checked');
        $("#listdiv").attr("style", "display:block;")
        $("#folderdiv").attr("style", "display:none;")
        $('#file').val("");
        $("#form1").attr('action', newUrl);    //通过jquery为action属性赋值

    }

    function changeformactionupload() {
        var newUrl = "/fileupdown/upload";    //设置新提交地址
        $("#form1").attr('action', newUrl);    //通过jquery为action属性赋值
        $('#filefolder').val("");
        $("#listshow").removeAttr("checked");
        $("#foldershow").prop("checked", "checked");
        // $("input:radio[name="analyfsftype"]").eq(0).attr("checked",'checked');
        showfolderdivforfilesaveselect();

    }

    function showfolderdivforfilesaveselect() {
        $("#listdiv").attr("style", "display:none;")
        $("#folderdiv").attr("style", "display:block;")
        var salor = $("#salorid").val();
        var engineer = $("#selectuser").val();
        var orderNo = $("#orderno").val().trim();
        //做好文件夹切割容器 文件夹层数不能超过9层
        var folderhtml = "";
        var fileshtml = "";

        if (salor == "") {
            alert("请选择业务人员!");
            return false;
        }
        if (engineer == "") {
            alert("请选择设计师!");
            return false;
        }
        if (orderNo == "") {
            alert("请填写订单编号!");
            return false;
        }
        $("#some-element").busyLoad("show");//遮罩层开启
        var jsonarray = {
            "salor": salor, //业务员
            "engineer": engineer, //设计师
            "orderNo": orderNo //订单编号
        };
        var data = JSON.stringify(jsonarray);
        $.ajax({
            data: data,
            type: "POST",
            contentType: "application/json",//上传内容格式为json结构
            url: "/fileupdown/findFoldersByQueryParam",
            success: function (msg) {
                var data = eval(msg); //data为URLS
                $.each(data, function (num) {
                    if (data[num].indexOf(".") <= 0) {//代表为文件夹
                        topfolder = data[num];
                        $("#foldername").val(data[num]);
                        folderhtml += "<li><input type='radio' name='filesaveselect' value='" + data[num] + "' checked><img src=\"/images/icon/Folder.png\" " +
                            " align=\"middle\" border=\"0\" ondblclick=\"shownextfolderorfiles('" + data[num] + "')\"\n" +
                            " style=\"width: 30px; height: 30px; vertical-align: middle\"/>" + data[num] + "</li>";
                    } else {//代表为文件
                        fileshtml += "<li>" + data[num] + "</li>";

                    }
                });
                $("#innerfolderdiv").html(folderhtml + fileshtml)
            },
            error: function (msg) {
                $("#some-element").busyLoad("hide");
                alert("查询失败");
            }
        });

        $("#some-element").busyLoad("hide");//遮罩层开启
    }

    // function addrow() {
    //     trindex++;
    //     trstr = "<tr class=\"trrcss\"><td>" + trindex + "</td>";
    //     trstr += "<td><input type=\"file\" id=\"file" + trindex + "\" name=\"file\"></td>";
    //     trstr += "<td><input type=\"text\" width=\"200px\" id='filfiledescribtion" + trindex + "' name=\"filfiledescribtion\"></td>";
    //     trstr += "<td><input type=\"text\" width=\"200px\" id=\"remark" + trindex + "\" name=\"remark\"></td>";
    //     trstr += "<td>";
    //     trstr += "<img src=\"/images/icon/Delete.png\" align=\"middle\" style=\"width: 20px; height: 20px; vertical-align: middle\" onclick=\"delthisrow(this)\"/>";
    //     trstr += "</td></tr>";
    //
    //
    //     $("#uploadtable tbody").append(trstr);
    // }

    // function delthisrow(_this) {
    //     var $trNode = $(_this).parent().parent();
    //     $trNode.remove();
    //
    // }
</script>

<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- Le fav and touch icons -->


<!--[if lt IE 7 ]>
<body class="ie ie6"> <![endif]-->
<!--[if IE 7 ]>
<body class="ie ie7 "> <![endif]-->
<!--[if IE 8 ]>
<body class="ie ie8 "> <![endif]-->
<!--[if IE 9 ]>
<body class="ie ie9 "> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->

<!--<![endif]-->
<div class="navbar navbar-default" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="" href="mainindex.html"><span class="navbar-brand"><span class="fa fa-paper-plane"></span> 深圳柯赛标识工程有限公司</span></a>
    </div>

    <div class="navbar-collapse collapse" style="height: 1px;">
        <ul id="main-menu" class="nav navbar-nav navbar-right">
            <li class="dropdown hidden-xs">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <span class="glyphicon glyphicon-user padding-right-small" style="position:relative;top: 3px;"
                          th:text="${view.userName}"></span>

                    <i class="fa fa-caret-down"></i>
                </a>

                <ul class="dropdown-menu">
                    <li><a th:href="@{/account/logout}">退出登录</a></li>

                </ul>
            </li>
        </ul>

    </div>
</div>


<div class="sidebar-nav">
    <ul>
        <li data-popover="false"
            data-content="Items in this group require a <strong><a href='http://portnine.com/bootstrap-themes/aircraft' target='blank'>premium license</a><strong>."
            rel="popover" data-placement="right"><a href="#" data-target=".premium-menuforsalor"
                                                    class="nav-header collapsed"
                                                    data-toggle="collapse"><i class="fa fa-fw fa-fighter-jet"></i>
            新建订单<i
                    class="fa fa-collapse"></i></a></li>
        <li>
            <ul class="premium-menuforsalor nav nav-list collapse">
                <li><a th:href="@{/order/createsinglegoods}"><span class="fa fa-caret-right"></span> 单件商品</a></li>
                <li><a href="#"><span class="fa fa-caret-right"></span> 项目类</a></li>
            </ul>
        </li>

        <!--========================文件管理===============================-->
        <li data-popover="false"
            data-content="Items in this group require a <strong><a href='http://portnine.com/bootstrap-themes/aircraft' target='blank'>premium license</a><strong>."
            rel="popover" data-placement="right"><a href="#" data-target=".premium-menuforfile"
                                                    class="nav-header collapsed"
                                                    data-toggle="collapse"><i class="fa fa-fw fa-fighter-jet"></i> 文件<i
                class="fa fa-collapse"></i></a></li>
        <li>
            <ul class="premium-menuforfile nav nav-list collapse">
                <li>
                    <a th:href="@{/fileupdown/tomainpage(userName=${view.userName},password=${view.password},currentPage=${view.currentPage})}"><span
                            class="fa fa-caret-right"></span> 设计文件</a></li>
                <li><a href="#"><span class="fa fa-caret-right"></span> 规范性文件</a></li>
                <li><a href="#"><span class="fa fa-caret-right"></span> 学习性文件</a></li>
            </ul>
        </li>

        <li data-popover="false"
            data-content="Items in this group require a <strong><a href='http://portnine.com/bootstrap-themes/aircraft' target='blank'>premium license</a><strong>."
            rel="popover" data-placement="right"><a href="#" data-target=".premium-menu" class="nav-header collapsed"
                                                    data-toggle="collapse"><i class="fa fa-fw fa-fighter-jet"></i> 权限<i
                class="fa fa-collapse"></i></a></li>
        <li>
            <ul class="premium-menu nav nav-list collapse">

            </ul>
        </li>

        <li><a href="#" data-target=".accounts-menu" class="nav-header collapsed" data-toggle="collapse"><i
                class="fa fa-fw fa-briefcase"></i>报表 <span class="label label-info">+3</span></a></li>
        <li>
            <ul class="accounts-menu nav nav-list collapse">

            </ul>
        </li>
    </ul>
</div>


</div>
<input type="hidden" th:value="${view.flag}" id="uploadflag">
<input type="hidden" th:value="${view.existFileMessage}" id="existFileMessage">
<input type="hidden" th:value="${view.isExistNum}" id="isExistNum">
<input type="hidden" id="foldername">
<div id="some-element">
    <div class="content">
        <form action="/fileupdown/uploadfolder" method="post" id="form1" enctype="multipart/form-data"
              th:object="${view}">
            <!--<input type="hidden" name="salor" id="salorvalue">-->
            <input type="hidden" name="saveFolderName" id="folderselect">
            <input type="hidden" name="filePathName" id="filePathName">
            <div id="tabs">

                <a class="btn btn-primary"
                   th:href="@{/fileupdown/tomainpage(userName=${view.userName},password=${view.password},currentPage=${view.currentPage})}">上传</a>

                <a class="btn  btn-default"
                   th:href="@{/fileupdown/tomodifypage(userName=${view.userName},password=${view.password},currentPage=${view.currentPage})}">更新</a>

                <a class="btn btn-default"
                   th:href="@{/fileupdown/download(userName=${view.userName},password=${view.password},currentPage=${view.currentPage})}">
                    下载</a>

                <a class="btn btn-default"
                   th:href="@{/fileupdown/tobroserfilepage(userName=${view.userName},password=${view.password},currentPage=${view.currentPage})}">查找</a>


                <a class="btn btn-default"
                   th:href="@{/fileupdown/toprivilmanagepage(userName=${view.userName},password=${view.password},pageSize=12,currentPage=${view.currentPage})}">管理</a>

                <p>
                <p>

                    <!--<input type="hidden" value="1" th:field="*{currentPage}">-->
                <div>
                    &nbsp;&nbsp;&nbsp;&nbsp; <font color="#FF0000" size="2">*</font>
                    <select id="salorid" style="width: 153px" name="salor" onchange="showFileUrl()">
                        <option value="" selected="selected" disabled="disabled" hidden="hidden">请选择业务员</option>
                        <option th:each="c:${employees}" th:value="${c.name}"
                                th:text="${c.name}"></option>
                    </select>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <font color="#FF0000" size="2">*</font>
                    订单编号
                    <input type="text" id="orderno" name="orderNo" onblur="checkOrderNo(this)">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <font color="#FF0000" size="2">*</font>
                    项目名称
                    <input type="text" id="projectno" name="projectName">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    上传时间
                    <input type="text" readonly="readonly" class="Wdate" id="uploaddatetime" name="createTime">
                </div>
                <p>
                <div>
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    文件设计师 <input type="text" id="fileuploader" style="width: 89px;" readonly="readonly"
                                 th:value="${view.userName}">

                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;文件说明<input
                        type="text" style="width: 400px;"
                        id="filedescribtion"
                        name="filedescribtion">
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;备注:<input type="text" id="remark" style="width: 399px;"
                                                                  name="remark">
                    <!--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新增行&nbsp;&nbsp;<img src="/images/icon/Add.png" align="middle"-->
                    <!--style="width: 20px; height: 20px; vertical-align: middle"-->
                    <!--onclick="addrow('bodycss')"/>-->

                </div>
                <p>
                <div>

                    <table id="uploadtable" width="100%" align="">
                        <tr id="colrcss" style="background-color: #E0EEEE;border-style: solid; border-width: 1px;">
                            <td width="50">序号</td>
                            <td width="250">选择文件夹</td>
                            <td width="250" ;>选择单或多个文件</td>

                        </tr>


                        <tbody id="bodycss">
                        <tr id="tr01">
                            <td>1</td>
                            <td><input type="file" id="filefolder" name="fileFolder"
                                       onchange="changeformactionfolder()"
                                       webkitdirectory></td>
                            <td><input type="file" id="file" name="file" onchange="changeformactionupload()"
                                       multiple>
                            </td>

                            <!--<td><font color="#FF0000" size="2">*</font>-->
                            <!--<input type="text" style="width: 300px" id="filename" th:field="*{fileName}">-->

                            <!--</td>-->


                        </tr>
                        </tbody>

                        <tfoot>

                        <!--<tr>-->
                        <!--<td colspan="3">-->
                        <!--<p>-->
                        <!--<font color="#FF0000" size="2">注："*"代表必填选项.</font>-->
                        <!--<p>-->


                        <!--<font color="#FF0000"-->
                        <!--size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-->
                        <!--单次上传总文件大小不超过50M.否则服务器不接受请求。</font>-->
                        <!--<p>-->


                        <!--<font color="#FF0000"-->
                        <!--size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-->
                        <!--上传的两种方式为文件夹与文件，二选一。</font>-->
                        <!--<p>-->
                        <!--<font color="#FF0000"-->

                        <!--size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-->
                        <!--本上传功能只接收全新未存过的文件，或以前存过但新增的一些文件。如存储的文件以前有存储过也有新文件，则服务器全不受理。</font>-->
                        <!--<p>-->
                        <!--<font color="#FF0000"-->
                        <!--size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-->
                        <!--本上传功能是根据订单号设计师业务中文件名来判断是否是新文件。如同一订单下不同的文件夹目录下有某个相同的文件名，则服务器视为同一文件不受理上传。</font>-->
                        <!--<p>-->


                        <!--</td>-->
                        <!--</tr>-->

                        </tfoot>
                    </table>
                </div>
                <p>
                <div id="selecradio">

                    <input type="radio" name="showmethod" checked value="0" id="listshow" onclick="showlistdiv()">列表展示
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <input type="radio" name="showmethod" value="1" id="foldershow" onclick="showfolderdiv()">文件夹展示
                </div>

                <div id="listdiv">
                    <div id="showtabledivhead">
                        <table class="grid" style="width: 100%;" id="tablecsshead">
                            <thead style="background-color: #E0EEEE" align="center" id="urlthead">
                            <tr>
                                <td width="30">序号</td>
                                <td width="50">设计师</td>
                                <td width="150">订单编号</td>
                                <td width="50">业务员</td>
                                <td width="200">文件名称</td>
                                <td width="153">上传时间</td>
                                <td width="50">更新次数</td>
                            </tr>
                            </thead>
                        </table>
                    </div>

                    <div id="showurldiv">
                        <table class="grid" style="width: 100%;height: 360px" id="tablecss">
                            <tbody align="center" id="urltbody" style="height: 250px;">
                            <tr>
                                <td colspan="7">暂无数据</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                </div>


                <!--FOLDER形式展示DIV-->
                <div id="folderdiv" style="display: none">

                    &nbsp;&nbsp;&nbsp;&nbsp;<input type="button" id="backfolder" disabled value="返回上一级"
                                                   onclick="backFolder();">

                    <div id="innerfolderdiv" style="overflow-y:scroll">
                    </div>
                </div>
                <div id="buttondiv">
                    <div id="innerbuttondiv" style="text-align: right">
                        <input type="button" onclick="submitalldata()" value="上传">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="button" value="全部清空" onclick="removeallbutonetr()">


                    </div>
                </div>


                <div id="progress">
                    <div class="col-lg-5"
                         style="padding-left: 0; padding-right: 0; margin-bottom: 0px;">
                        <div class="progress progress-striped active" style="display: ">
                            <div id="progressBar" class="progress-bar progress-bar-success"
                                 role="progressbar" aria-valuemin="0" aria-valuenow="0"
                                 aria-valuemax="100" style="width: 1%">

                            </div>
                        </div>
                    </div>
                    <span id="proInfo">上传进度：0%</span>
                </div>
            </div>
        </form>
    </div>


</body>

</html>
</html>


<script src="/lib/bootstrap/js/bootstrap.js"></script>
<script type="text/javascript">
    $("[rel=tooltip]").tooltip();
    $(function () {
        $('[data-popover="true"]').popover({html: true});
        $('.demo-cancel-click').click(function () {
            return false;
        });
    });

</script>


